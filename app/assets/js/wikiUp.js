!function(n,t){"use strict";if(!n.jQuery)return!1;var i=n.jQuery,a=0,e={error:"Error. Try again.",loading:"Loading",lang:"en"},r=function(n,t){var i="wiki-"+a++;n.data("wikiUp",i).bind("mouseover",function(){n.children(".tooltip").length||(n.append('<div class="tooltip"><span></span><div id="'+i+'"></div></div>'),o(n,t))})},o=function(n,t){var a=i("#"+n.data("wikiUp")),e=n.data("lang")||t.lang,r=n.data("wiki"),o="http://"+e+".wikipedia.org/w/api.php?callback=?&action=parse&page="+r+"&prop=text&format=json&section=0";i.ajax({type:"GET",url:o,data:{},async:!0,contentType:"application/json; charset=utf-8",dataType:"jsonp",success:function(n){for(var t,r=!1,o=0,p=i(n.parse.text["*"]);r===!1;)r=!0,p.find("table").remove(),t=p.find("p:eq("+o+")").html(),0===t.indexOf("<span")&&(o++,r=!1);a.html(t).find("a").attr("target","_blank").not(".references a").attr("href",function(n,t){return 0!==t.indexOf("http")&&(t="http://"+e+".wikipedia.org"+t),t}).end().end().find("sup.reference").remove()},error:function(n,i,e){a.html(t.error)},beforeSend:function(n){a.html(t.loading)}})};i.fn.wikiUp=function(n){return n=i.extend(!0,{},e,n),this.each(function(){var t=i(this);t.data("wikiUp")||r(t,n)})},i(function(){i("[data-wiki]").wikiUp()})}(this);